package kr.or.iei;

import java.io.IOException;

import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ResponseBody;

@Controller
public class AjaxContoller {

	
	
	@GetMapping("/ajax/movePage.kh")
	public String movePage() {
		return "ajax/ajaxTest";
	}
	
	//1. 기존 서블릿 방식의 Ajax 통신
	@GetMapping("/ajax/ajaxTest1.kh")
	public void ajaxTest1(HttpServletResponse response, String str, int num) throws IOException {
		String resData = "Ajax 요청 시, 전달 문자열 : " + str + ", 전달 숫자 : " + num;
		
		response.setContentType("text/html; charset=utf-8"); //응답형식 지정
		response.getWriter().print(resData);
		
	}
	
	//2. 스프링에서의 Ajax 통신
	@GetMapping(value="/ajax/ajaxTest2.kh", produces="text/html; charset=utf-8")
	@ResponseBody
	public String ajaxTest2(String str, int num) {
		String resData = "Ajax 요청 시, 전달 문자열 : " + str + ", 전달 숫자 : " + num;
		
		return resData;
	}
}
