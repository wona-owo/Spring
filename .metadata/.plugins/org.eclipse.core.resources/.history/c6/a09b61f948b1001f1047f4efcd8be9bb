<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</head>
<body>
	<h1>AJAX 테스트 페이지</h1>
	
	<hr>
	
	<button id="ajaxTest1">Ajax Test 1</button>
	<button id="ajaxTest2">Ajax Test 2</button>
	<button id="ajaxTest3">Ajax Test 3</button>
	
	<script>
	$("#ajaxTest1").on('click', function(){
		$.ajax({
			url : '/ajax/ajaxTest1.kh',
			data : {str : '스프링', num : 10},
			type : 'get',
			success : function(res){
				console.log(res);
			}
			,error : function(){
				console.log('ajax 통신 오류 !');
			}
		})
	});
	
	$("#ajaxTest2").on('click', function(){
		$.ajax({
			url : '/ajax/ajaxTest2.kh',
			data : {str : '스프링', num : 10},
			type : 'get',
			success : function(res){
				console.log(res)
			}
			,error : function (){
				console.log('ajax 통신 오류 !');
			}
		})
	});
	
	$("#ajaxTest3").on('click', function(){
		$.ajax({
			url : '/ajax/ajaxTest3.kh',
			data : {str : '스프링', num : 10},
			type : 'get',
			success : function(res){
				//Controller에서 JSONArray에 요소들을 추가하고, 응답하면 응답된 데이터 자료형이 string임.
				console.log(typeof res);
				
				console.log(res);
				res = JSON.parse(res); //JSON.parse : JSON 형식의 "문자열"을 JSON으로 변환해주는 메소드
				
				//parse 메소드를 통해, Javascript Object로 변환하여 배열이 출력됨.
				console.log(res);
				console.log(typeof res);
			}
			,error : function (){
				console.log('ajax 통신 오류 !');
			}
		})
	});
		
	</script>
</body>
</html>