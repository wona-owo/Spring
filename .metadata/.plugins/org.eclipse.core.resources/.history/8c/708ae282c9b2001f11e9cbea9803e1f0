<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="notice">

<select id="selectNoticeList" parameterType="hashmap" resultType="notice">
	select notice_no as noticeNo,
		   notice_title as noticeTitle,
		   notice_content as noticeContent,
		   notice_writer as noticeWriter,
		   notice_date as noticeDate
	from (
	select rownum rnum,
	a.*
	from (
	select a.*
	from tbl_notice a
	order by notice_no desc
	) a
	) a
	where rnum between #{start} and #{end}
</select>

<select id="selectNoticeCount"
	resultType="_int">
	select count(*)
	from tbl_notice
</select>

<select id="selectNoticeNo"
resultType="string">
select seq_notice.nextval from dual
</select>


<insert id="insertNotice"
  parameterType="notice">
  insert into tbl_notice
  	(
	notice_no,
	notice_title,
	notice_content,
	notice_writer,
	notice_date  	
  	)
  	values
  	(
  	#{noticeNo},
  	#{noticeTitle},
  	#{noticeContent},
  	#{noticeWriter},
  	sysdate
  	)
  	
  </insert>
  
  
  
  <insert id="insertNoticeFile"
  parameterType="noticeFile">
  insert into tbl_notice_file
  		(
  		file_no,
  		notice_no,
  		file_name,
  		file_path
  		)
  		values
  		(
  		seq_notice_file.nextval,
  		
  		)
  </insert>

</mapper>
